<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K&Y New Zealand Honeymoon | ç´è¥¿è˜­èœœæœˆä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Sans+TC:wght@300;400;500;700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Morandi Palette */
            --m-green: #889C8F;       
            --m-green-light: #E3E9E4; 
            --m-blue: #7B9AA6;        
            --m-blue-light: #E0E7EA;
            --m-dark: #4A5559;        
            --m-text: #4A5559;        
            --m-bg: #F2F4F3;          
            --m-highlight: #374151; /* Dark highlight bg */
            --m-pink: #DCC7C4;
        }
        
        body {
            font-family: 'Noto Sans TC', 'Lato', sans-serif;
            background-color: var(--m-bg);
            background-image: linear-gradient(135deg, #F2F4F3 0%, #E6EBE9 100%);
            background-attachment: fixed;
            color: var(--m-text);
            overflow-x: hidden;
            padding-bottom: 100px;
        }

        h1, h2, .date-font { font-family: 'Cinzel', serif; }

        .hero-bg {
            background-image: url('https://images.unsplash.com/photo-1469521669194-babb45599def?q=80&w=2069&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            height: 35vh; 
            position: relative;
        }
        .hero-overlay { background: rgba(60, 75, 80, 0.4); }
        @media (min-width: 768px) { .hero-bg { height: 50vh; } }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 20px rgba(123, 154, 166, 0.15);
        }

        /* Highlight Style */
        .card-highlight {
            background: var(--m-highlight);
            color: white;
            border: 1px solid #4B5563;
        }
        .card-highlight h5, .card-highlight span, .card-highlight i, .card-highlight .font-bold {
            color: white !important;
        }
        .card-highlight .text-gray-600, .card-highlight .text-gray-500, .card-highlight .text-gray-700 {
            color: #D1D5DB !important;
        }
        .card-highlight a {
            color: #93C5FD !important; 
        }

        /* Navigation */
        .mobile-sticky-nav {
            position: sticky;
            top: 0;
            z-index: 50;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 10px;
        }

        .day-btn {
            white-space: nowrap;
            transition: all 0.3s;
            opacity: 0.7;
            border-bottom: 3px solid transparent;
            color: var(--m-text);
        }
        .day-btn:hover { opacity: 1; background-color: var(--m-green-light); }
        .day-btn.active {
            opacity: 1;
            color: var(--m-blue);
            border-bottom: 3px solid var(--m-blue);
            font-weight: bold;
            background-color: white;
        }

        .day-content { display: none; animation: fadeIn 0.4s ease-out forwards; }
        .day-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .nav-scroller::-webkit-scrollbar { display: none; }
        .nav-scroller { -ms-overflow-style: none; scrollbar-width: none; }

        /* Form Styles */
        .edit-form input, .edit-form textarea {
            width: 100%;
            border: 1px solid #D1D5DB;
            border-radius: 0.375rem;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        .edit-form label {
            display: block;
            font-size: 0.75rem;
            font-weight: bold;
            color: #4B5563;
            margin-bottom: 0.25rem;
        }
        
        /* Checklist Styles */
        .checklist-item.checked span {
            text-decoration: line-through;
            color: #9CA3AF;
        }
        .checklist-checkbox {
            accent-color: var(--m-blue);
            width: 1.2em;
            height: 1.2em;
            cursor: pointer;
        }
        
        /* Nav Link Style */
        .nav-link {
            display: inline-flex;
            align-items: center;
            font-weight: 500;
            transition: all 0.2s;
            text-decoration: none;
        }
        .nav-link:hover { transform: translateX(2px); }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <div class="hero-bg flex items-center justify-center text-center px-4" id="top">
        <div class="absolute inset-0 hero-overlay"></div>
        <div class="relative z-10 text-white">
            <h1 class="text-3xl md:text-6xl font-bold mb-2 tracking-wider text-shadow">K & Y</h1>
            <h2 class="text-lg md:text-3xl font-light mb-3">Honeymoon</h2>
            <div class="inline-block border-t border-b border-white/80 py-1 px-4 text-xs md:text-base tracking-widest bg-white/10 backdrop-blur-sm rounded-sm">
                2026.02.21 â€” 2026.03.12
            </div>
        </div>
    </div>

    <!-- Mobile Nav -->
    <div class="mobile-sticky-nav md:hidden flex items-center justify-between gap-2">
        <button onclick="prevDay()" class="p-2 rounded-full bg-theme-green-light text-[#889C8F] bg-[#E3E9E4] hover:bg-gray-200 w-10 h-10 flex items-center justify-center active:scale-95"><i class="fas fa-chevron-left"></i></button>
        <div class="flex-1">
            <select id="mobile-day-select" onchange="switchTab(this.value)" class="w-full bg-white border border-gray-200 text-gray-600 font-bold py-2 px-4 rounded-lg text-center focus:ring-2 focus:ring-[#7B9AA6]">
                <option value="prep">ğŸ“‹ è¡Œå‰æº–å‚™</option>
                <option value="shopping">ğŸ›ï¸ å¿…è²·æ¸…å–®</option>
                <option value="hotel">ğŸ¨ é£¯åº—è³‡è¨Š</option>
                <option value="day1">Day 1 - 2/21 (å‡ºç™¼)</option>
                <option value="day2">Day 2 - 2/22 (å¥§å…‹è˜­)</option>
                <option value="day3">Day 3 - 2/23 (Waitomo)</option>
                <option value="day4">Day 4 - 2/24 (Rotorua)</option>
                <option value="day5">Day 5 - 2/25 (Taupo)</option>
                <option value="day6">Day 6 - 2/26 (Queenstown)</option>
                <option value="day7">Day 7 - 2/27 (Glenorchy)</option>
                <option value="day8">Day 8 - 2/28 (Wanaka)</option>
                <option value="day9">Day 9 - 3/01 (Haast)</option>
                <option value="day10">Day 10 - 3/02 (Fox)</option>
                <option value="day11">Day 11 - 3/03 (Arthur's)</option>
                <option value="day12">Day 12 - 3/04 (CHC)</option>
                <option value="day13">Day 13 - 3/05 (Tekapo)</option>
                <option value="day14">Day 14 - 3/06 (Mt Cook)</option>
                <option value="day15">Day 15 - 3/07 (Cromwell)</option>
                <option value="day16">Day 16 - 3/08 (Te Anau)</option>
                <option value="day17">Day 17 - 3/09 (Milford)</option>
                <option value="day18">Day 18 - 3/10 (QT)</option>
                <option value="day19">Day 19 - 3/11 (Depart)</option>
                <option value="final">End - 3/12 (Home)</option>
            </select>
        </div>
        <button onclick="nextDay()" class="p-2 rounded-full text-[#7B9AA6] bg-[#E0E7EA] hover:bg-gray-200 w-10 h-10 flex items-center justify-center active:scale-95"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Desktop Nav -->
    <div class="hidden md:block sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex overflow-x-auto nav-scroller py-2 gap-1" id="nav-container">
                <button onclick="switchTab('prep')" class="day-btn px-3 py-2 rounded-t-lg font-bold" id="btn-prep">ğŸ“‹ æº–å‚™</button>
                <button onclick="switchTab('shopping')" class="day-btn px-3 py-2 rounded-t-lg font-bold" id="btn-shopping">ğŸ›ï¸ å¿…è²·</button>
                <button onclick="switchTab('hotel')" class="day-btn px-3 py-2 rounded-t-lg font-bold" id="btn-hotel">ğŸ¨ é£¯åº—</button>
                <button onclick="switchTab('day1')" class="day-btn px-3 py-2 rounded-t-lg" id="btn-day1">D1</button>
                <!-- JS will populate Day 2-19 buttons -->
                <script>
                    for(let i=2; i<=19; i++) {
                        document.write(`<button onclick="switchTab('day${i}')" class="day-btn px-3 py-2 rounded-t-lg" id="btn-day${i}">D${i}</button>`);
                    }
                </script>
                <button onclick="switchTab('final')" class="day-btn px-3 py-2 rounded-t-lg" id="btn-final">End</button>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="max-w-4xl mx-auto px-2 md:px-4 py-6 min-h-[60vh] relative" id="content-area">
        
        <!-- Prep Checklist Content -->
        <div id="prep" class="day-content">
            <div class="glass-card rounded-2xl p-5 md:p-8 w-full shadow-lg">
                <div class="flex items-center justify-between mb-6 border-b border-gray-200 pb-4">
                    <h4 class="text-2xl md:text-3xl font-bold text-[#7B9AA6]"><i class="fas fa-clipboard-check mr-2"></i>è¡Œå‰æº–å‚™æ¸…å–®</h4>
                    <button onclick="resetChecklist()" class="text-xs text-gray-400 hover:text-red-500 transition"><i class="fas fa-rotate-left mr-1"></i>é‡ç½®æ¸…å–®</button>
                </div>
                <div id="checklist-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
            </div>
        </div>

        <!-- Shopping List Content -->
        <div id="shopping" class="day-content">
            <div class="glass-card rounded-2xl p-5 md:p-8 w-full shadow-lg border-l-4 border-[#B5A8B7]">
                <div class="flex items-center justify-between mb-6 border-b border-gray-200 pb-4">
                    <h4 class="text-2xl md:text-3xl font-bold text-[#B5A8B7]"><i class="fas fa-shopping-bag mr-2"></i>ç´è¥¿è˜­å¿…è²·æ¸…å–®</h4>
                    <button onclick="resetShoppingList()" class="text-xs text-gray-400 hover:text-red-500 transition"><i class="fas fa-rotate-left mr-1"></i>é‡ç½®</button>
                </div>
                <div id="shopping-list-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Javascript will render categories here -->
                </div>
            </div>
        </div>

        <!-- Hotel Info Content -->
        <div id="hotel" class="day-content">
            <div class="glass-card rounded-2xl p-5 md:p-8 w-full shadow-lg">
                <h4 class="text-2xl md:text-3xl font-bold text-[#7B9AA6] mb-6 border-b border-gray-200 pb-4"><i class="fas fa-hotel mr-2"></i>ä½å®¿è³‡è¨Šç¸½è¦½</h4>
                <div class="grid grid-cols-1 gap-4" id="hotel-list"></div>
            </div>
        </div>

        <!-- Day 1 (Static Layout) -->
        <div id="day1" class="day-content active">
             <div class="glass-card rounded-2xl p-6 border-l-4 border-[#7B9AA6]">
                <h4 class="text-2xl font-bold mb-4 text-[#7B9AA6]">Day 1: å•Ÿç¨‹ ğŸ›«</h4>
                <div class="space-y-4">
                    <div class="flex gap-3"><span class="font-mono text-gray-400 pt-1">15:00</span><div><span class="font-bold text-gray-700">æ•´ç†è¡Œæ ğŸ§³</span><p class="text-sm text-gray-500">ç¢ºèªè¡Œå‰æº–å‚™æ¸…å–®å·²å®Œæˆï¼Œç”¨æ„‰å¿«çš„å¿ƒæƒ…æº–å‚™å‡ºç™¼! ğŸ¥°âœˆï¸</p></div></div>
                    <div class="flex gap-3"><span class="font-mono text-gray-400 pt-1">20:55</span><div class="bg-[#E0E7EA] p-2 rounded w-full font-bold text-[#7B9AA6]">æ¡ƒåœ’æ©Ÿå ´ Check-in ğŸ›‚</div></div>
                    <div class="bg-white p-4 rounded-xl border border-[#7B9AA6] shadow-sm relative">
                        <span class="absolute top-0 right-0 bg-[#7B9AA6] text-white text-xs px-2 py-1 rounded-bl">å»ç¨‹èˆªç­</span>
                        <div class="font-bold text-[#4A5559] mb-2">ä¸­è¯èˆªç©º CI0053 ğŸ‡¹ğŸ‡¼âœˆï¸ğŸ‡³ğŸ‡¿</div>
                        <div class="flex justify-between items-center text-sm">
                            <div class="text-center"><span class="block text-xl font-bold">TPE</span><span class="text-xs text-gray-400">23:55 (2/21)<br>æ¡ƒåœ’T2</span></div>
                            <div class="flex-1 px-2 text-center text-xs text-gray-400"><i class="fas fa-plane text-[#7B9AA6]"></i><br>14h 15m</div>
                            <div class="text-center"><span class="block text-xl font-bold">AKL</span><span class="text-xs text-gray-400">19:10 (2/22)<br>å¥§å…‹è˜­T1</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dynamic Days Container (Day 2 - 19) -->
        <div id="dynamic-days-container"></div>

        <!-- Final Day (Static Layout) -->
        <div id="final" class="day-content">
            <div class="glass-card rounded-2xl p-6 border-l-4 border-gray-400 bg-white shadow-lg text-center">
                <h4 class="text-2xl font-bold mb-4 text-gray-800">Day 20: å¹³å®‰è¿”å®¶ ğŸ </h4>
                <div class="space-y-4 text-left">
                    <div class="flex gap-3"><span class="font-mono text-gray-400 w-12">04:20</span><div><span class="font-bold">æŠµé”å°åŒ— (TPE) ğŸ‡¹ğŸ‡¼</span></div></div>
                    <div class="flex gap-3"><span class="font-mono text-gray-400 w-12">05:20</span><div class="bg-blue-50 p-2 rounded w-full text-blue-800">å®¢é‹å›å°ä¸­ ğŸšŒ</div></div>
                    <div class="flex gap-3"><span class="font-mono text-gray-400 w-12">08:00</span><div class="bg-gray-50 p-2 rounded w-full border border-gray-200 font-bold">å›å¯æ„›çš„å®¶ä¼‘æ¯ ğŸ’¤</div></div>
                </div>
                <div class="mt-8 pt-6 border-t border-gray-100">
                    <div class="inline-block relative">
                         <i class="fas fa-home text-transparent bg-clip-text bg-gradient-to-br from-[#DCC7C4] to-[#B5A8B7] text-7xl"></i>
                         <i class="fas fa-heart text-[#B5A8B7] text-3xl absolute bottom-3 left-1/2 transform -translate-x-1/2 animate-pulse border-2 border-white rounded-full bg-white"></i>
                    </div>
                    <p class="mt-4 text-gray-400 text-xs">End of Honeymoon</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. Data Configuration (Itinerary) ---
        const initialItinerary = {
            day2: { date: "Feb 22", title: "æŠµé”å¥§å…‹è˜­ ğŸ›¬", color: "#889C8F", items: [
                { time: "19:10", title: "æŠµé”å¥§å…‹è˜­æ©Ÿå ´ (AKL) ğŸ‡³ğŸ‡¿", desc: "è¾¦ç†å…¥å¢ƒèˆ‡æé ˜è¡Œæ", note: "å¥§å…‹è˜­ç¬¬1èˆªå»ˆ" },
                { time: "20:10", title: "æ™šé¤ ğŸ½ï¸", desc: "æ©Ÿå ´é™„è¿‘äº«ç”¨æ™šé¤", cost: "$50 NZD" },
                { time: "20:30", title: "äº¤é€šæ¥é§ ğŸšŒ", desc: "æ­ä¹˜ Yellow Bus å‰å¾€é£¯åº—", cost: "$6 NZD" },
                { time: "21:00", title: "Holiday Inn Auckland Airport ğŸ¨", desc: "Check-in & ä¼‘æ¯", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Holiday+Inn+Auckland+Airport" }
            ]},
            day3: { date: "Feb 23", title: "Waitomo é»‘æ°´æ¢éšª ğŸ”¦", color: "#7B9AA6", items: [
                { time: "09:00", title: "æ—©é¤æ™‚å…‰ ğŸ³", desc: "" },
                { time: "10:00", title: "å‰å¾€ç§Ÿè»Šå…¬å¸ ğŸš—", desc: "ğŸ’¡ è·¯ä¸Šè¶…å¸‚è²·èƒ½é‡æ£’!", duration: "1h" },
                { time: "11:00", title: "å–è»Š", desc: "è¾¦ç†ç§Ÿè»Šæ‰‹çºŒ", duration: "45m" },
                { time: "13:15", title: "El Mexicano Zapata Cantina ğŸ¥ª", desc: "åƒåˆé¤ & æ¼¢ç±³çˆ¾é “èŠ±åœ’æ•£æ­¥", link: "https://elmexicanozapata.com/" },
                { time: "16:00", title: "é»‘æ°´æ¢éšªå ±åˆ° ğŸŒŠ", desc: "Black Water Rafting", duration: "3h", isHighlight: true, note: "<b>æº–å‚™æ³³è¡£ã€æµ´å·¾</b>" },
                { time: "21:30", title: "Haven on Hilton ğŸ›Œ", desc: "å…¥ä½ä¼‘æ¯", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=8A+Hilton+Road+Rotorua" }
            ]},
            day4: { date: "Feb 24", title: "Rotorua ç‰§å ´èˆ‡æ–‡åŒ– ğŸ‘", color: "#889C8F", items: [
                { time: "09:00", title: "Skyline Rotorua Luge ğŸï¸", desc: "æ–œå¡æ»‘è»Šç«¶é€Ÿé«”é©—", duration: "1.5h", link: "https://www.google.com/maps/search/?api=1&query=Skyline+Rotorua" },
                { time: "11:00", title: "çš‡å®¶æ„›æ­Œé “ç‰§å ´ç¾Šæ¯›ç§€ ğŸ‘", desc: "Agrodome Farm Show", duration: "1h", isHighlight: true },
                { time: "12:10", title: "ç‰§å ´å°è¦½ (Farm Tour)", desc: "è¦ªè¿‘å‹•ç‰©æ™‚é–“", duration: "1h" },
                { time: "14:30", title: "Anita Gelato ğŸ¦", desc: "ç”œé» + å¸‚å€æ•£æ­¥", link: "https://www.google.com/maps/search/?api=1&query=Anita+Gelato" },
                { time: "18:30", title: "æ¯›åˆ©æ–‡åŒ–é«”é©— (Mitai) ğŸ’ƒ", desc: "Haka æˆ°èˆèˆ‡å‚³çµ±æ™šé¤", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Mitai+Maori+Village" },
                { time: "22:00", title: "Haven on Hilton ğŸ›Œ", desc: "ä¼‘æ¯", type: "hotel" }
            ]},
            day5: { date: "Feb 25", title: "Taupo åœ°ç†±å¥‡æ™¯ ğŸŒ‹", color: "#7B9AA6", items: [
                { time: "09:00", title: "å‰å¾€æ‡·å¥§å¡”æ™®åœ°ç†±ä¸–ç•Œ", link: "https://www.google.com/maps/search/?api=1&query=Wai-O-Tapu" },
                { time: "10:15", title: "Lady Knox Geyser â›²", desc: "å™´æ³‰è¡¨æ¼” (å¿…çœ‹)", isHighlight: true },
                { time: "10:30", title: "åœ°ç†±æ™¯è§€åƒè§€", desc: "é¦™æª³æ± ã€æƒ¡é­”æµ´æ± ", duration: "1h 15m" },
                { time: "12:00", title: "èƒ¡å¡ç€‘å¸ƒ (Huka Falls) ğŸŒŠ", link: "https://www.google.com/maps/search/?api=1&query=Huka+Falls" },
                { time: "12:30", title: "èœ‚èœœä¹‹å®¶ (Huka Honey Hive) ğŸ", desc: "è²·èœ‚èœœ ğŸ", link: "https://www.google.com/maps/search/?api=1&query=Huka+Honey+Hive" },
                { time: "13:20", title: "Pauly's Diner ğŸ”", desc: "åˆé¤: è©•åƒ¹æœ€é«˜çš„æ¼¢å ¡" },
                { time: "14:30", title: "é£›æ©Ÿéº¥ç•¶å‹ ğŸŸ", desc: "Taupo McDonald's æ‹ç…§", link: "https://www.google.com/maps/search/?api=1&query=McDonald%27s+Taupo" },
                { time: "19:30", title: "Westfield Newmarket Rooftop", desc: "æµªæ¼«æ™šé¤", link: "https://www.google.com/maps/search/?api=1&query=Westfield+Newmarket" },
                { time: "21:00", title: "Ramada by Wyndham ğŸ›Œ", desc: "å…¥ä½ä¼‘æ¯", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Newmarket+Auckland" }
            ]},
            day6: { date: "Feb 26", title: "é£›å¾€çš‡åé® âœˆï¸", color: "#889C8F", items: [
                { time: "08:00", title: "Teed Street Larder ğŸ¥", desc: "æ—©é¤æ¨è–¦", link: "https://www.google.com/maps/search/?api=1&query=Teed+Street+Larder" },
                { time: "09:00", title: "Westfield Newmarket ğŸ›ï¸", desc: "Farmers / Life Pharmacy / Chemist Warehouse", note: "è²·: Anihana æ´—é«®çš‚ã€Nature's Way SuperFoodsã€Thayers çˆ½è†šæ°´ã€Trilogyè“æœç²¾è¯ã€Antipodesçœ¼éœœã€Auraé¢è†œ", link: "https://www.google.com/maps/search/?api=1&query=Westfield+Newmarket" },
                { time: "11:30", title: "å¥§å…‹è˜­æ©Ÿå ´ âœˆï¸", desc: "é‚„è»Š & æ­æ¥é§è»Š" },
                { time: "15:00", title: "æ·æ˜Ÿèˆªç©º (AKL-ZQN)", desc: "16:50 æŠµé”çš‡åé®", type: "flight" },
                { time: "17:30", title: "Ora Retreat ğŸ¨", desc: "å…¥ä½ Check-in", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Ora+Retreat+Queenstown" },
                { time: "19:00", title: "æ™šé¤: Flame Bar & Grill ğŸ”", desc: "æˆ– Fergburger", link: "https://www.google.com/maps/search/?api=1&query=Flame+Bar" }
            ]},
            day7: { date: "Feb 27", title: "Glenorchy é­”æˆ’ ğŸ’", color: "#7B9AA6", items: [
                { time: "09:00", title: "Deer Park Heights ğŸ¦Œ", desc: "é¹¿å…¬åœ’èˆ‡æ¹–æ™¯", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Deer+Park+Heights" },
                { time: "11:00", title: "Fergburger ğŸ”", desc: "å¤–å¸¶æ¼¢å ¡åˆé¤", link: "https://www.google.com/maps/search/?api=1&query=Fergburger" },
                { time: "11:30", title: "Bennett's Bluff Lookout ğŸ“¸", desc: "å…¬è·¯æ‹ç…§é»" },
                { time: "13:30", title: "Glenorchy Horse Riding ğŸ", desc: "é¨é¦¬é«”é©— (1.5h)", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Glenorchy-Paradise+Road" },
                { time: "15:00", title: "Glenorchy Wharf ğŸš¶", desc: "ç¢¼é ­èˆ‡ç´…å±‹é ‚å€‰åº«æ•£æ­¥" },
                { time: "19:00", title: "æ™šé¤: Madam Woo ğŸ¥˜", desc: "æˆ– Blue Kanu", link: "https://www.google.com/maps/search/?api=1&query=Madam+Woo" },
                { time: "22:00", title: "Ora Retreat ğŸ›Œ", desc: "ä¼‘æ¯", type: "hotel" }
            ]},
            day8: { date: "Feb 28", title: "Wanaka è·³å‚˜ ğŸª‚", color: "#889C8F", items: [
                { time: "09:00", title: "Creative Arts Market ğŸ¨", desc: "Earnslaw Park é€›å¸‚é›†åƒåˆé¤", link: "https://www.google.com/maps/search/?api=1&query=Creative+Queenstown+Arts+Market", note: "åœè»Š: One Mile Car Park" },
                { time: "11:30", title: "å‰å¾€ Wanaka ğŸ›£ï¸", desc: "Crown Range Road æ™¯è§€å…¬è·¯" },
                { time: "14:10", title: "Skydive Wanaka ğŸª‚", desc: "é«˜ç©ºè·³å‚˜å ±åˆ°", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Skydive+Wanaka" },
                { time: "17:30", title: "That Wanaka Tree ğŸŒ³", desc: "å­¤ç¨æ¨¹æ¹–é‚Šæ•£æ­¥ + æ™šé¤" },
                { time: "20:00", title: "McLennan's Rest ğŸ›Œ", desc: "å…¥ä½", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=64A+McLennan+Road" }
            ]},
            day9: { date: "Mar 01", title: "è–°è¡£è‰èˆ‡è¥¿æµ·å²¸ ğŸš™", color: "#7B9AA6", items: [
                { time: "08:00", title: "æ—©æ™¨è¡Œç¨‹ ğŸŒ…", desc: "Plan A: æ¹–ç•” / Plan B: è£œè·³å‚˜" },
                { time: "14:00", title: "Wanaka Lavender Farm ğŸ§º", desc: "è–°è¡£è‰è¾²å ´ (é–€ç¥¨$180)", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Wanaka+Lavender+Farm" },
                { time: "18:00", title: "å‰å¾€ Haast ğŸš™", desc: "è»Šç¨‹ç´„ 2h 10m" },
                { time: "21:00", title: "Heartland Hotel Haast ğŸ›Œ", desc: "å…¥ä½", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Heartland+Hotel+Haast" }
            ]},
            day10: { date: "Mar 02", title: "Fox å†°å·å¥è¡Œ ğŸ§Š", color: "#889C8F", items: [
                { time: "08:30", title: "é–‹è»Šå‰å¾€ Fox Glacier ğŸš—", desc: "è»Šç¨‹ç´„ 2 å°æ™‚" },
                { time: "11:30", title: "Heli Hike å ±åˆ° ğŸš", desc: "å†°å·å¥è¡Œé«”é©— (44 Main Road)", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=44+Main+Road+Fox+Glacier" },
                { time: "16:00", title: "Lake Matheson Walk ğŸš¶â€â™‚ï¸", desc: "é¦¬ä¿®æ£®æ¹–æ•£æ­¥", link: "https://www.google.com/maps/search/?api=1&query=Lake+Matheson+Walk" },
                { time: "17:00", title: "æ™šé¤æ¨è–¦ ğŸ½ï¸", desc: "Cook Saddle Cafe / The Last Kitchen / Cafe Neve" },
                { time: "20:00", title: "Fox Glacier Airbnb ğŸ›Œ", desc: "å…¥ä½", type: "hotel", link: "https://maps.app.goo.gl/rtMVeSkedv7gcqMFA" }
            ]},
            day11: { date: "Mar 03", title: "Arthur's Pass â›°ï¸", color: "#7B9AA6", items: [
                { time: "08:30", title: "Plan A: å†°å·å¥è¡Œ (Heli Hike) ğŸš", desc: "è‹¥å‰ä¸€æ—¥å–æ¶ˆå‰‡æ”¹ä»Šæ—¥ (è‡³ 12:30 çµæŸ)", isHighlight: true },
                { time: "12:30", title: "åˆé¤æ™‚é–“ ğŸ¥ª", desc: "Plan A" },
                { time: "13:30", title: "è·¨è¶Š Arthur's Pass ğŸš—", desc: "è»Šç¨‹ç´„ 3.5 å°æ™‚" },
                { time: "17:00", title: "Devil's Punchbowl Waterfall ğŸ’¦", desc: "ç€‘å¸ƒæ­¥é“" },
                { time: "18:45", title: "Castle Hill ğŸª¨", desc: "æ€ªçŸ³æ‹ç…§é»", isHighlight: true },
                { time: "19:30", title: "Springfield Motel & Lodge ğŸ›Œ", desc: "æŠµé” & å…¥ä½ (Plan A)", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Springfield+Motel+Lodge" },
                
                { time: "---", title: "--- Plan B: æ‚ é–’è§€å…‰ç‰ˆ ---", desc: "å‰æ—¥æˆåŠŸå†°å·å¥è¡Œ", note: "æ–¹æ¡ˆåˆ†éš”ç·š" },

                { time: "08:30", title: "Plan B: é¦¬ä¿®æ£®æ¹– ğŸš¶", desc: "Lake Matheson æ™¨é–“æ•£æ­¥" },
                { time: "10:30", title: "å‰å¾€ Arthur's Pass ğŸš—", desc: "" },
                { time: "14:00", title: "åˆé¤ & ç€‘å¸ƒæ­¥é“ ğŸ¥ªğŸ’¦", desc: "Devil's Punchbowl" },
                { time: "16:15", title: "Castle Hill ğŸª¨", desc: "æ€ªçŸ³æ‹ç…§", isHighlight: true },
                { time: "18:00", title: "Springfield Motel & Lodge ğŸ›Œ", desc: "æŠµé” & å…¥ä½ (Plan B)", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=Springfield+Motel+Lodge" }
            ]},
            day12: { date: "Mar 04", title: "Christchurch èŠ±åœ’ ğŸŒ¹", color: "#889C8F", items: [
                { time: "09:30", title: "å‰å¾€åŸºç£åŸ ğŸš—", duration: "54m" },
                { time: "10:30", title: "å…¬å¯“294 Check-in ğŸ¨", desc: "è¾¦ç†å…¥ä½", link: "https://www.google.com/maps/search/?api=1&query=294+Gloucester+Street" },
                { time: "12:00", title: "Riverside Market ğŸ¥—", desc: "åˆé¤é€›å¸‚é›†", link: "https://www.google.com/maps/search/?api=1&query=Riverside+Market+Christchurch" },
                { time: "13:30", title: "æ¤ç‰©åœ’ / è—è¡“ä¸­å¿ƒ ğŸ§¼", desc: "è²·ç¾Šæ¯›çš‚ (Frances Nation)" },
                { time: "15:30", title: "New Regent St ğŸ›¶", desc: "æ’ç¯™é«”é©—" },
                { time: "20:00", title: "å…¬å¯“294 ğŸ½ï¸", desc: "ä¼‘æ¯", type: "hotel" }
            ]},
            day13: { date: "Mar 05", title: "Tekapo æ˜Ÿç©º âœ¨", color: "#7B9AA6", items: [
                { time: "09:00", title: "å‰å¾€ Fairlie ğŸš—", desc: "è»Šç¨‹ 2.5h" },
                { time: "11:30", title: "Fairlie Bakehouse ğŸ¥§", desc: "å¿…åƒé®­é­šæ´¾ã€è±¬äº”èŠ±æ´¾", link: "https://www.google.com/maps/search/?api=1&query=Fairlie+Bakehouse" },
                { time: "14:00", title: "Tekapo é›™äººæˆ¿ ğŸ¨", desc: "Check-in (30 Murray Place)", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=30+Murray+Place+Lake+Tekapo" },
                { time: "16:00", title: "å¥½ç‰§ç¾Šäººæ•™å ‚ â›ª", desc: "ç‰›å¥¶è—æ¹–æ°´åœ°æ¨™", link: "https://www.google.com/maps/search/?api=1&query=Church+of+the+Good+Shepherd" },
                { time: "18:00", title: "Kohan Restaurant ğŸ±", desc: "æ¹–ç•”æ—¥å¼æ™šé¤", link: "https://www.google.com/maps/search/?api=1&query=Kohan+Restaurant" },
                { time: "21:15", title: "Tekapo Springs Stargazing âœ¨", desc: "æ˜Ÿç©ºä¹‹æ—… (6 Lakeside Drive)", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Tekapo+Springs" }
            ]},
            day14: { date: "Mar 06", title: "Mt Cook å¥è¡Œ ğŸ§—", color: "#889C8F", items: [
                { time: "08:00", title: "å‰å¾€åº«å…‹å±± ğŸš—", desc: "âš ï¸ å‚™ç³§é£Ÿã€é˜²æ›¬ã€åŠ æ»¿æ²¹" },
                { time: "09:30", title: "Sealy Tarns Track ğŸ§—", desc: "æŒ‘æˆ°éšæ¢¯æ­¥é“", isHighlight: true, link: "https://www.google.com/maps/search/?api=1&query=Sealy+Tarns+Track" },
                { time: "13:30", title: "White Horse Hill ğŸ§º", desc: "åœè»Šå ´é‡é¤", link: "https://www.google.com/maps/search/?api=1&query=White+Horse+Hill+Campground" },
                { time: "14:30", title: "Tasman Glacier View ğŸ§Š", desc: "å†°å·æ™¯è§€æ­¥é“", link: "https://www.google.com/maps/search/?api=1&query=Tasman+Glacier+Car+Park" },
                { time: "18:30", title: "The Last Spud ğŸ½ï¸", desc: "æ™šé¤æ¨è–¦", link: "https://www.google.com/maps/search/?api=1&query=The+Last+Spud" },
                { time: "21:00", title: "Lake Tekapo Airbnb ğŸ›Œ", desc: "ä¼‘æ¯", type: "hotel" }
            ]},
            day15: { date: "Mar 07", title: "Cromwell æ°´æœ ğŸ’", color: "#7B9AA6", items: [
                { time: "09:00", title: "Lake Pukaki ğŸï¸", desc: "Peter's Lookout è§€æ™¯å°" },
                { time: "10:00", title: "Mt Cook Alpine Salmon ğŸŸ", desc: "åƒé®­é­šé…æ¹–æ™¯", link: "https://www.google.com/maps/search/?api=1&query=Mt+Cook+Alpine+Salmon" },
                { time: "11:00", title: "High Country Salmon ğŸ”", desc: "é¤µé­šã€å¤–å¸¶æ¼¢å ¡", link: "https://www.google.com/maps/search/?api=1&query=High+Country+Salmon" },
                { time: "13:00", title: "Cromwell æ°´æœé›•å¡‘ ğŸ’", desc: "æ‹ç…§æ‰“å¡", link: "https://www.google.com/maps/search/?api=1&query=Cromwell+Fruit+Sculpture" },
                { time: "13:30", title: "Mrs Jones Fruit Stall ğŸ¦", desc: "å¿…åƒæ°´æœå†°æ·‡æ·‹", link: "https://www.google.com/maps/search/?api=1&query=Mrs+Jones+Fruit+Stall" },
                { time: "17:00", title: "Idyllburn BnB ğŸ›Œ", desc: "å…¥ä½", type: "hotel", link: "https://maps.app.goo.gl/1uLUApqFo7q4p3BP7" },
                { time: "18:00", title: "The Stoaker Room ğŸ–", desc: "æ©¡æœ¨æ¡¶ç…™ç‡»æ–™ç†", link: "https://www.google.com/maps/search/?api=1&query=The+Stoaker+Room" }
            ]},
            day16: { date: "Mar 08", title: "Te Anau å³½ç£é–€æˆ¶ ğŸ¦Œ", color: "#889C8F", items: [
                { time: "10:30", title: "Arrowtown (ç®­é®) â˜•", desc: "Bailiez Cafe åˆé¤ & é€›è€è¡—", link: "https://www.google.com/maps/search/?api=1&query=Bailiez+Cafe" },
                { time: "12:30", title: "Devilâ€™s Staircase ğŸ›£ï¸", desc: "é­”é¬¼éšæ¢¯è§€æ™¯é»", link: "https://www.google.com/maps/search/?api=1&query=Devil%27s+Staircase+Lookout" },
                { time: "16:00", title: "Pamela's Place ğŸ›Œ", desc: "å…¥ä½", type: "hotel", link: "https://maps.app.goo.gl/DcTcApghrVAfQLAN7" },
                { time: "18:00", title: "Redcliff CafÃ© ğŸ¦", desc: "æ¨è–¦å³½ç£é¹¿è‚‰ (éœ€é å®š)", link: "https://www.google.com/maps/search/?api=1&query=Redcliff+Cafe" },
                { time: "20:00", title: "FreshChoice Te Anau ğŸ¦Ÿ", desc: "âš ï¸ è²·é˜²èšŠæ¶² (Sandflies)", link: "https://www.google.com/maps/search/?api=1&query=FreshChoice+Te+Anau" }
            ]},
            day17: { date: "Mar 09", title: "Milford Sound ğŸš¢", color: "#7B9AA6", items: [
                { time: "08:00", title: "å‡ºç™¼ â›½", desc: "âš ï¸ Te Anau å‹™å¿…åŠ æ»¿æ²¹" },
                { time: "08:30", title: "Milford Road ğŸŒ¾", desc: "Eglinton Valley / Knobs Flat åœé " },
                { time: "13:00", title: "Milford Sound Cruise ğŸš¢", desc: "éŠè¼ªé«”é©— (è‡³ 15:00)", isHighlight: true, duration: "2h" },
                { time: "15:30", title: "è¿”å› Te Anau â†©ï¸", desc: "" },
                { time: "21:00", title: "Pamela's Place ğŸ›Œ", desc: "ä¼‘æ¯", type: "hotel", link: "https://maps.app.goo.gl/DcTcApghrVAfQLAN7" }
            ]},
            day18: { date: "Mar 10", title: "Queenstown æ¡è²· ğŸ›ï¸", color: "#889C8F", items: [
                { time: "09:30", title: "Five Mile Shopping Centre ğŸ³", desc: "åˆé¤+æ¡è²·", link: "https://www.google.com/maps/search/?api=1&query=Five+Mile+Centre" },
                { time: "12:30", title: "å¤§æ¡è²· ğŸ›ï¸", desc: "Pak'nSave / Kmart / Chemist Warehouse" },
                { time: "16:00", title: "21B Riverside Road ğŸ¨", desc: "Check-in", type: "hotel", link: "https://www.google.com/maps/search/?api=1&query=21B+Riverside+Road+Queenstown" },
                { time: "17:30", title: "æ­å…¬è»Š (1è™Ÿç·š) ğŸšŒ", desc: "å‰å¾€å¸‚å€è½‰æ¥é§è»Š" },
                { time: "19:15", title: "Onsen Hot Pools â™¨ï¸", desc: "æ³¡æ¹¯é«”é©—", isHighlight: true }
            ]},
            day19: { date: "Mar 11", title: "å†è¦‹ç´è¥¿è˜­ ğŸ›«", color: "#7B9AA6", items: [
                { time: "10:00", title: "Frank's Eatery ğŸ³", desc: "æ—©åˆé¤", link: "https://www.google.com/maps/search/?api=1&query=Frank's+Eatery" },
                { time: "11:30", title: "åŠ æ²¹ & é‚„è»Š â›½", desc: "æ©Ÿå ´å€åŸŸåŠ æ»¿æ²¹" },
                { time: "15:05", title: "è¯èˆª CI0052 ğŸ›«", desc: "çš‡åé® (15:05) -> é›ªæ¢¨ (16:25)", type: "flight", note: "é›ªæ¢¨è½‰æ©Ÿè²· Aesop" },
                { time: "22:10", title: "è¯èˆª CI0052 ğŸ›«", desc: "é›ªæ¢¨ (22:10) -> å°åŒ— (04:20 +1)", type: "flight" }
            ]}
        };
        
        // Data for Hotels (Updated with Region and Notes)
        const hotelsData = [
            { name: "å¥§å…‹è˜­æ©Ÿå ´å‡æ—¥é£¯åº—", region: "å¥§å…‹è˜­æ©Ÿå ´", address: "Holiday Inn Auckland Airport", checkin: "15:00", checkout: "11:00", note: "æä¾›æ—©é¤ã€å…è²»åœè»Š", link: "https://www.google.com/maps/search/?api=1&query=Holiday+Inn+Auckland+Airport" },
            { name: "Haven on Hilton (Airbnb)", region: "Rotorua", address: "8A Hilton Road, Rotorua", checkin: "15:00 - 21:00", checkout: "10:00", note: "å…è²»åœè»Šï¼Œæ™šä¸Š9é»å¾Œè«‹å‹¿ä½¿ç”¨æ´—è¡£çƒ˜ä¹¾æ©Ÿã€‚é€€æˆ¿å‰è«‹å°‡ä½¿ç”¨éçš„æ¯›å·¾æ”¾ä¸€èµ·ã€æ¸…ç†åƒåœ¾ã€é—œé–‰é›»æºã€é–é–€ã€‚", link: "https://www.google.com/maps/search/?api=1&query=8A+Hilton+Road+Rotorua+Bay+of+Plenty+Region+3010" },
            { name: "Ramada by Wyndham Newmarket", region: "å¥§å…‹è˜­å¸‚å€", address: "Auckland", checkin: "14:00", checkout: "10:00", note: "å…è²»åœè»Š", link: "https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Newmarket+Auckland" },
            { name: "Ora Retreat", region: "Queenstown", address: "Queenstown", checkin: "14:00 - 22:00", checkout: "10:00", note: "æä¾›æ—©é¤ã€å…è²»åœè»Šã€Wi-Fiã€å…±ç”¨è¡›æµ´", link: "https://www.google.com/maps/search/?api=1&query=Ora+Retreat+Queenstown" },
            { name: "McLennan's Rest (Airbnb)", region: "WÄnaka", address: "64A McLennan Road, HÄwea Flat", checkin: "15:00", checkout: "10:00", note: "å…è²»åœè»Šã€Wi-Fi", link: "https://www.google.com/maps/search/?api=1&query=64A+McLennan+Road+Hawea+Flat+Otago+9382" },
            { name: "Heartland Hotel Haast", region: "Haast", address: "Haast", checkin: "14:00", checkout: "10:00", note: "å…è²»åœè»Šã€Wi-Fi", link: "https://www.google.com/maps/search/?api=1&query=Heartland+Hotel+Haast" },
            { name: "Fox Glacier (Airbnb)", region: "Fox Glacier", address: "Fox Glacier", checkin: "14:00 - 21:00", checkout: "10:00", note: "æä¾›æ—©é¤ã€å…è²»åœè»Šã€Wi-Fiã€å…±ç”¨æ¡‘æ‹¿ã€æ´—è¡£çƒ˜è¡£é ˆä»˜è²»", link: "https://maps.app.goo.gl/rtMVeSkedv7gcqMFA" },
            { name: "Springfield Motel and Lodge", region: "Springfield", address: "Springfield", checkin: "15:00 - 21:00", checkout: "10:00", note: "å…¬ç”¨å»šæˆ¿ã€å…è²»åœè»Šã€Wi-Fiã€Netflix", link: "https://www.google.com/maps/search/?api=1&query=Springfield+Motel+%26+Lodge+New+Zealand" },
            { name: "å…¬å¯“294 (Airbnb)", region: "Christchurch", address: "294 Gloucester St, Christchurch", checkin: "å½ˆæ€§", checkout: "11:00", note: "æä¾›æ—©é¤ã€å…è²»åœè»Šã€Wi-Fiã€å…è²»æ´—è¡£çƒ˜è¡£", link: "https://www.google.com/maps/search/?api=1&query=294+Gloucester+Street+Christchurch" },
            { name: "Lake Tekapo (Airbnb)", region: "Tekapo", address: "30 Murray Place, Lake Tekapo", checkin: "16:00", checkout: "10:00", note: "å…è²»åœè»Šã€Wi-Fiã€ï¼ˆå…±ç”¨ï¼‰æµ´å®¤", link: "https://www.google.com/maps/search/?api=1&query=30+Murray+Place+Lake+Tekapo+Canterbury+7999" },
            { name: "Idyllburn BnB (Airbnb)", region: "Cromwell", address: "Cromwell", checkin: "15:00 - 23:00", checkout: "10:00", note: "æä¾›æ—©é¤ã€å…è²»åœè»Š", link: "https://maps.app.goo.gl/1uLUApqFo7q4p3BP7" },
            { name: "Pamela's Place (Airbnb)", region: "Te Anau", address: "Te Anau", checkin: "15:00 - 21:00", checkout: "10:00", note: "æä¾›æ—©é¤ã€è·¯é‚Šæœ‰å…è²»åœè»Šä½ã€é™„è¿‘æœ‰è‡ªåŠ©æ´—è¡£åº—ã€æˆ¿æ±å°‡æœƒè¿æ¥æ‚¨", link: "https://maps.app.goo.gl/DcTcApghrVAfQLAN7" },
            { name: "çš‡åé®è¿‘æ©Ÿå ´ (Airbnb)", region: "Queenstown", address: "21B Riverside Road, Queenstown", checkin: "18:00 - 21:00", checkout: "10:00", note: "è·¯é‚Šå…è²»åœè»Šã€å¯æ´—è¡£æœã€ç„¡çƒ˜è¡£ã€Wi-Fi", link: "https://www.google.com/maps/search/?api=1&query=21B+Riverside+Road+Queenstown+Otago+9300" }
        ];

        // Prep Data
        const defaultPrepData = [
            {
                title: "1. è¡£ç‰©èˆ‡ç©¿æ­",
                items: [
                    { text: "æ’æ±—é€æ°£çŸ­è¢–ä¸Šè¡£2-3ä»¶", done: false },
                    { text: "é•·è¢–ä¸Šè¡£2-3ä»¶", done: false },
                    { text: "è¼•ä¾¿çš„ç¾½çµ¨èƒŒå¿ƒ", done: false },
                    { text: "é˜²é¢¨é˜²æ°´å¤–å¥—", done: false },
                    { text: "é˜²æ½‘æ°´çš„é•·è¤²(å†°å·å¥è¡Œ)", done: false },
                    { text: "çŸ­è¤²ã€é•·è£™2-3ä»¶", done: false },
                    { text: "ç™¼ç†±è¡£ã€ç™¼ç†±è¤²1å¥—", done: false },
                    { text: "æ´‹è£ã€å¤–å¥—(æ‹ç…§ç”¨)", done: false },
                    { text: "é›»æ£’æ²", done: false }
                ]
            },
            {
                title: "2. é‹",
                items: [
                    { text: "ç™»å±±é‹(é‹åº•è¦ä¹¾æ·¨)ã€æº¯æºªé‹", done: false },
                    { text: "ä¼‘é–’é‹ã€é»‘è‰²æ¶¼é‹", done: false },
                    { text: "æ‹–é‹(æ³¡æ¹¯ç”¨)", done: false }
                ]
            },
            {
                title: "3. æˆ¶å¤–æ´»å‹•è£å‚™",
                items: [
                    { text: "æ³³è¡£ã€æ³³å¸½2-3å¥—", done: false },
                    { text: "æµ´å·¾", done: false },
                    { text: "è­·é«®åˆ†è£(ä¸­)", done: false },
                    { text: "ä¸‰åˆä¸€åˆ†è£(å¤§)", done: false },
                    { text: "æ´—é¢ä¹³åˆ†è£(ä¸­)", done: false },
                    { text: "å…§è¡£è¤²æ´—åŠ‘åˆ†è£(å°)", done: false },
                    { text: "é˜²æ›¬ä¹³ã€é˜²æ›¬å™´éœ§", done: false },
                    { text: "å¤ªé™½çœ¼é¡ã€é®é™½å¸½", done: false },
                    { text: "å°èƒŒåŒ… (å¥è¡Œç”¨)", done: false },
                    { text: "é˜²æ›¬ç¾ç™½ä¿å¥å“", done: false },
                    { text: "é ­ç‡ˆ(å¤œé–“çœ‹æ˜Ÿæ˜Ÿ)", done: false }
                ]
            },
            {
                title: "4. æ”å½±è¨­å‚™",
                items: [
                    { text: "é‹å‹•ç›¸æ©Ÿ(é¨é¦¬ã€æ‹æ˜Ÿæ˜Ÿ)", done: false },
                    { text: "è¡Œå‹•é›»æº", done: false },
                    { text: "è…³æ¶", done: false },
                    { text: "ç´è¥¿è˜­è½‰æ¥é ­", done: false },
                    { text: "å……é›»ç·š", done: false }
                ]
            },
            {
                title: "5. å€‹äººè­·ç†èˆ‡è—¥å“",
                items: [
                    { text: "é˜²èšŠæ¶² (ç´è¥¿è˜­è²·)", done: false },
                    { text: "ä¿é¤Šã€åŒ–å¦å“", done: false },
                    { text: "å¸å¦å“", done: false },
                    { text: "å¸¸å‚™è—¥å“", done: false },
                    { text: "éš±å½¢çœ¼é¡18å¤©ä»½", done: false },
                    { text: "å£ç½©", done: false },
                    { text: "å°å‰ªåˆ€", done: false },
                    { text: "è¡›ç”Ÿæ£‰ã€æ¢", done: false },
                    { text: "ç‰™è†ã€ç‰™åˆ·", done: false },
                    { text: "è€³å¡", done: false },
                    { text: "æ¿•ç´™å·¾", done: false },
                    { text: "æ£‰èŠ±æ£’", done: false }
                ]
            },
            {
                title: "6. ç”Ÿæ´»ç”¨å“",
                items: [
                    { text: "éš¨èº«åŒ…", done: false },
                    { text: "å¡‘è† è¢‹(è£æ›æ´—è¡£ç‰©)", done: false },
                    { text: "æ”¶ç´è¡£æ¶ã€æ›¬è¡£å¤¾", done: false },
                    { text: "ä¿æº«ç“¶", done: false },
                    { text: "ç¶²è·¯SIMå¡ã€SIMå¡é‡", done: false },
                    { text: "Google Maps é›¢ç·šåœ°åœ–", done: false },
                    { text: "ç­†(å¡«å¥½é›»å­å…¥å¢ƒè²æ˜)", done: false },
                    { text: "é æ•", done: false }
                ]
            },
            {
                title: "7. é‡è¦æ–‡ä»¶",
                items: [
                    { text: "è­·ç…§", done: false },
                    { text: "NZeTAç°½è­‰", done: false },
                    { text: "ç´è¥¿è˜­å¹£", done: false },
                    { text: "åœ‹éš›é§•ç…§", done: false },
                    { text: "æ—…å¹³éšªå–®æ“š", done: false }
                ]
            }
        ];
        
        // Shopping Data - Categorized
        const defaultShoppingData = [
            {
                title: "ğŸ« è¶…å¸‚å¿…è²· - é›¶é£Ÿ/é¤…ä¹¾ (Pak'nSave / Countdown)",
                items: [
                    { text: "éº¥ç›§å¡èœ‚èœœ (Manuka Honey) ğŸ¯", done: false },
                    { text: "Whittaker's å·§å…‹åŠ› (è¥¿æ´‹æ¢¨ç­‰å£å‘³) ğŸ«", done: false },
                    { text: "Cookie Time å·§å…‹åŠ›é¤…ä¹¾ ğŸª", done: false },
                    { text: "Bluebird è–¯ç‰‡ (Salt & Vinegar) ğŸ¥”", done: false },
                    { text: "Eta Uppercuts æ´‹èŠ‹ç‰‡", done: false },
                    { text: "Delisio æ´‹èŠ‹ç‰‡", done: false },
                    { text: "FarmBake å·§å…‹åŠ›é¤…ä¹¾", done: false },
                    { text: "Pascall Milk Shakes ç‰›å¥¶ç³– ğŸ¬", done: false },
                    { text: "The Natural Co. è»Ÿç³–", done: false },
                    { text: "ç´è¥¿è˜­å¥‡ç•°æœä¹¾ ğŸ¥", done: false }
                ]
            },
            {
                title: "ğŸ§´ è—¥å¦åº—å¿…è²· - ä¿é¤Š/æ¸…æ½” (Chemist Warehouse / Farmers)",
                items: [
                    { text: "èœ‚è† ç‰™è† (Propolis Toothpaste) ğŸ¦·", done: false },
                    { text: "å¸‚é›†ç¾Šæ¯›çš‚ (Wool Soap) ğŸ§¼", done: false },
                    { text: "Trilogy ç«ç‘°æœæ²¹ (æŠ—çšº/æ·¡æ–‘) ğŸŒ¹", done: false },
                    { text: "Antipodes çœ¼éœœã€é¢è†œ", done: false },
                    { text: "ecostore è‚¥çš‚/æ¸…æ½”ç”¨å“ ğŸ§¼", done: false },
                    { text: "ç¶¿ç¾Šæ²¹è­·æ‰‹éœœ & è­·å”‡è† ğŸ‘", done: false },
                    { text: "éº¥ç›§å¡èœ‚èœœè­·å”‡è† ğŸ’„", done: false },
                    { text: "Puresource æ·¨è†šç«å±±æ³¥é¦™çš‚", done: false },
                    { text: "Thayers çˆ½è†šæ°´", done: false },
                    { text: "Anihana æ´—é«®çš‚ ğŸ’†â€â™€ï¸", done: false }
                ]
            },
            {
                title: "ğŸ’Š ä¿å¥é£Ÿå“èˆ‡è—¥å“ (Pharmacy)",
                items: [
                    { text: "Comvita èœ‚è† å™´éœ§", done: false },
                    { text: "Comvita èœ‚è† å…’ç«¥æ£’æ£’ç³– ğŸ­", done: false },
                    { text: "Comvita èœ‚èœœæ½¤å–‰ç³–", done: false },
                    { text: "Nature Care èœ‚è† æ½¤å–‰ç³–", done: false },
                    { text: "Beeorg èœ‚å–‰ç³–", done: false },
                    { text: "LIFESPAN Omega-3 é­šæ²¹ ğŸŸ", done: false },
                    { text: "Goodbye Sandfly é˜²èšŠæ¶² (å¿…å‚™!) ğŸ¦Ÿ", done: false },
                    { text: "Oasis Sun é˜²æ›¬ç”¨å“ â˜€ï¸", done: false }
                ]
            }
        ];

        let prepData = [];
        let itineraryData = {};
        let shoppingData = [];

        // --- Functions ---
        function initItinerary() {
            const stored = localStorage.getItem('nz_itinerary_v6');
            if (stored) {
                try {
                    itineraryData = JSON.parse(stored);
                } catch(e) {
                    itineraryData = JSON.parse(JSON.stringify(initialItinerary));
                }
            } else {
                itineraryData = JSON.parse(JSON.stringify(initialItinerary));
            }
            renderAllDays();
        }

        function saveItinerary() {
            localStorage.setItem('nz_itinerary_v6', JSON.stringify(itineraryData));
        }
        
        function renderAllDays() {
            const container = document.getElementById('dynamic-days-container');
            container.innerHTML = '';

            for (let i = 2; i <= 19; i++) {
                const dayId = `day${i}`;
                const data = itineraryData[dayId];
                if (!data) continue;

                const dayDiv = document.createElement('div');
                dayDiv.id = dayId;
                dayDiv.className = 'day-content';
                
                dayDiv.innerHTML = `
                    <div class="flex flex-col md:flex-row items-start">
                        <div class="md:w-1/3 flex flex-row md:flex-col items-center justify-start md:items-end md:pr-12 mb-4 md:mb-0 gap-3 md:gap-0">
                            <div class="bg-white rounded-full p-2 shadow-sm border-4" style="border-color: ${data.color}40;">
                                <span class="text-xl md:text-3xl font-bold w-8 h-8 md:w-14 md:h-14 flex items-center justify-center" style="color: ${data.color};">${i < 10 ? '0'+i : i}</span>
                            </div>
                            <div>
                                <h3 class="date-font text-lg md:text-2xl font-bold" style="color: ${data.color};">${data.date}</h3>
                                <span class="text-gray-500 text-sm md:text-base">${data.title}</span>
                            </div>
                        </div>
                        <div class="glass-card rounded-2xl p-5 md:p-8 border-l-4 w-full" style="border-color: ${data.color};">
                            <h4 class="text-xl md:text-2xl font-bold mb-4 border-b border-gray-100 pb-2" style="color: ${data.color};">${data.title}</h4>
                            <div class="space-y-4" id="list-${dayId}">
                                ${data.items.map((item, idx) => renderItem(item, dayId, idx)).join('')}
                            </div>
                            <div class="mt-6 pt-4 border-t border-gray-100 flex gap-2">
                                <button onclick="addNewSpot('${dayId}')" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-2 rounded transition"><i class="fas fa-plus"></i> æ–°å¢æ™¯é»</button>
                            </div>
                        </div>
                    </div>
                    ${i === 19 ? renderFlightCard19() : ''}
                `;
                container.appendChild(dayDiv);
            }
        }

        function renderFlightCard19() {
            return `
            <div class="mt-4 bg-white/80 p-4 rounded-xl border border-[#7B9AA6] shadow-sm relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-[#7B9AA6] text-white text-xs px-2 py-1 rounded-bl">å›ç¨‹èˆªç­</div>
                
                <!-- Flight 1 -->
                <div class="flex justify-between items-center mt-2">
                    <span class="text-xs font-bold text-gray-500">VA 0162</span>
                    <span class="text-xs text-gray-400">15:05 - 16:25</span>
                </div>
                <div class="flex items-center text-sm mb-2 border-b border-gray-100 pb-2">
                    <span class="font-bold mr-2 text-[#4A5559]">ZQN</span> <i class="fas fa-plane text-xs text-[#7B9AA6] mx-1"></i> <span class="font-bold ml-2 text-[#4A5559]">SYD</span>
                </div>

                <!-- Flight 2 -->
                <div class="flex justify-between items-center mt-1">
                    <span class="text-xs font-bold text-gray-500">CI 0052</span>
                    <span class="text-xs text-gray-400">22:10 - 04:20 (+1)</span>
                </div>
                <div class="flex items-center text-sm mb-2">
                    <span class="font-bold mr-2 text-[#4A5559]">SYD</span> <i class="fas fa-plane text-xs text-[#7B9AA6] mx-1"></i> <span class="font-bold ml-2 text-[#4A5559]">TPE</span>
                </div>

                <div class="mt-2 bg-[#E0E7EA] p-2 rounded border border-[#7B9AA6]/20">
                    <span class="font-bold text-xs text-[#7B9AA6] block mb-1">ğŸ‡¦ğŸ‡º é›ªæ¢¨è½‰æ©Ÿ:</span>
                    <p class="text-xs text-gray-600">è²· Aesop æ´—æ‰‹ä¹³ã€é¦™æ°´ (å…ç¨…)</p>
                </div>
            </div>`;
        }

        function renderItem(item, dayId, idx) {
            const highlightClass = item.isHighlight ? 'card-highlight p-3 rounded-lg shadow-md' : '';
            const bgClass = !item.isHighlight && item.type === 'hotel' ? 'bg-white border border-gray-100 p-2 rounded' : 
                           (!item.isHighlight && idx % 2 !== 0 ? 'bg-[#F2F4F3] p-2 rounded' : '');
            
            return `
            <div class="group relative ${highlightClass} ${bgClass}">
                <div class="flex items-start">
                    <span class="font-mono ${item.isHighlight ? 'text-gray-300' : 'text-gray-400'} w-14 text-sm pt-1 shrink-0">${item.time}</span>
                    <div class="w-full">
                        <div class="flex justify-between items-start">
                            <span class="font-bold ${item.isHighlight ? 'text-white' : 'text-gray-700'} text-sm md:text-base">${item.title}</span>
                            <div class="opacity-0 group-hover:opacity-100 transition-opacity flex gap-2">
                                <button onclick="editItem('${dayId}', ${idx})" class="text-xs text-blue-400 hover:text-blue-600"><i class="fas fa-pen"></i></button>
                                <button onclick="deleteItineraryItem('${dayId}', ${idx})" class="text-xs text-red-400 hover:text-red-600"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        
                        ${item.link ? `<a href="${item.link}" target="_blank" class="nav-link text-xs ${item.isHighlight ? 'text-blue-300' : 'text-blue-500'} block mt-1"><i class="fas fa-location-dot mr-1"></i> å°èˆª</a>` : ''}
                        
                        <p class="text-sm ${item.isHighlight ? 'text-gray-200' : 'text-gray-600'} mt-1">${item.desc}</p>
                        
                        ${item.duration || item.cost || item.note ? `
                        <div class="mt-2 text-xs flex flex-wrap gap-2">
                            ${item.duration ? `<span class="bg-black/10 px-2 py-1 rounded"><i class="fas fa-clock mr-1"></i>${item.duration}</span>` : ''}
                            ${item.cost ? `<span class="bg-black/10 px-2 py-1 rounded"><i class="fas fa-tag mr-1"></i>${item.cost}</span>` : ''}
                            ${item.note ? `<span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded border border-yellow-200"><i class="fas fa-circle-info mr-1"></i>${item.note}</span>` : ''}
                        </div>` : ''}
                    </div>
                </div>
            </div>
            `;
        }

        function renderHotels() {
            const container = document.getElementById('hotel-list');
            container.innerHTML = '';
            hotelsData.forEach(hotel => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col gap-3';
                card.innerHTML = `
                    <div class="flex flex-col md:flex-row justify-between md:items-start gap-4">
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="bg-[#E0E7EA] text-[#7B9AA6] text-xs font-bold px-2 py-1 rounded">${hotel.region}</span>
                                <h5 class="font-bold text-[#7B9AA6] text-lg">${hotel.name}</h5>
                            </div>
                            <a href="${hotel.link}" target="_blank" class="nav-link text-xs text-gray-500"><i class="fas fa-map-pin"></i> ${hotel.address}</a>
                            <div class="mt-3 text-sm text-gray-600 bg-[#F2F4F3] p-3 rounded-lg border border-gray-100">
                                <span class="font-bold text-[#889C8F] block mb-1"><i class="fas fa-info-circle mr-1"></i>å‚™è¨»ï¼š</span>
                                ${hotel.note}
                            </div>
                        </div>
                        <div class="text-sm text-gray-600 bg-[#E0E7EA] p-3 rounded-lg text-center min-w-[140px] flex flex-col justify-center h-full">
                            <p class="mb-1"><span class="font-bold text-[#7B9AA6]">In:</span> ${hotel.checkin}</p>
                            <p><span class="font-bold text-[#7B9AA6]">Out:</span> ${hotel.checkout}</p>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // Checklist Functions
        function initChecklist() {
            const stored = localStorage.getItem('nz_prep_list');
            prepData = stored ? JSON.parse(stored) : JSON.parse(JSON.stringify(defaultPrepData));
            renderChecklist();
        }
        
        function renderChecklist() {
            const container = document.getElementById('checklist-container');
            container.innerHTML = '';
            prepData.forEach((category, catIndex) => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-xl border border-gray-100 shadow-sm';
                let itemsHtml = category.items.map((item, itemIndex) => `
                    <div class="flex items-center justify-between py-2 border-b border-gray-50 checklist-item ${item.done ? 'checked' : ''}">
                        <label class="flex items-center cursor-pointer flex-1">
                            <input type="checkbox" class="checklist-checkbox mr-3 rounded text-teal-600 focus:ring-teal-500" ${item.done ? 'checked' : ''} onchange="toggleCheck(${catIndex}, ${itemIndex})">
                            <span class="text-sm text-gray-700 select-none">${item.text}</span>
                        </label>
                        <button onclick="deleteChecklistItem(${catIndex}, ${itemIndex})" class="checklist-delete text-gray-300 hover:text-red-400 ml-2"><i class="fas fa-times"></i></button>
                    </div>
                `).join('');
                card.innerHTML = `
                    <h5 class="font-bold text-[#7B9AA6] mb-3 text-lg border-b-2 border-[#E0E7EA] pb-2">${category.title}</h5>
                    <div class="mb-4">${itemsHtml}</div>
                    <div class="flex mt-2">
                        <input type="text" id="new-item-${catIndex}" onkeypress="checkEnter(event, ${catIndex})" placeholder="æ–°å¢..." class="flex-1 text-sm border border-gray-200 rounded-l px-3 py-2 focus:outline-none focus:border-[#7B9AA6]">
                        <button onclick="addItem(${catIndex})" class="bg-[#889C8F] text-white px-3 py-2 rounded-r text-sm hover:bg-opacity-90"><i class="fas fa-plus"></i></button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // Shopping List Functions
        function initShoppingList() {
            const stored = localStorage.getItem('nz_shopping_list_v8');
            shoppingData = stored ? JSON.parse(stored) : JSON.parse(JSON.stringify(defaultShoppingData));
            renderShoppingList();
        }

        function renderShoppingList() {
            const container = document.getElementById('shopping-list-container');
            container.innerHTML = '';
            shoppingData.forEach((category, catIndex) => {
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-xl border border-gray-100 shadow-sm';
                let itemsHtml = category.items.map((item, itemIndex) => `
                    <div class="flex items-center justify-between py-2 border-b border-gray-50 checklist-item ${item.done ? 'checked' : ''}">
                        <label class="flex items-center cursor-pointer flex-1">
                            <input type="checkbox" class="checklist-checkbox mr-3 rounded text-teal-600 focus:ring-teal-500" ${item.done ? 'checked' : ''} onchange="toggleShoppingCheck(${catIndex}, ${itemIndex})">
                            <span class="text-sm text-gray-700 select-none">${item.text}</span>
                        </label>
                        <button onclick="deleteShoppingItem(${catIndex}, ${itemIndex})" class="checklist-delete text-gray-300 hover:text-red-400 ml-2"><i class="fas fa-times"></i></button>
                    </div>
                `).join('');
                card.innerHTML = `
                    <h5 class="font-bold text-[#B5A8B7] mb-3 text-lg border-b-2 border-[#E0E7EA] pb-2">${category.title}</h5>
                    <div class="mb-4">${itemsHtml}</div>
                    <div class="flex mt-2">
                        <input type="text" id="new-shop-item-${catIndex}" onkeypress="checkShoppingEnter(event, ${catIndex})" placeholder="æ–°å¢..." class="flex-1 text-sm border border-gray-200 rounded-l px-3 py-2 focus:outline-none focus:border-[#B5A8B7]">
                        <button onclick="addShoppingItem(${catIndex})" class="bg-[#B5A8B7] text-white px-3 py-2 rounded-r text-sm hover:bg-opacity-90"><i class="fas fa-plus"></i></button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // Global Exports
        window.toggleCheck = (c, i) => { prepData[c].items[i].done = !prepData[c].items[i].done; localStorage.setItem('nz_prep_list', JSON.stringify(prepData)); renderChecklist(); };
        window.addItem = (c) => { const input = document.getElementById(`new-item-${c}`); if(input.value.trim()){ prepData[c].items.push({text: input.value.trim(), done: false}); localStorage.setItem('nz_prep_list', JSON.stringify(prepData)); renderChecklist(); } };
        window.deleteChecklistItem = (c, i) => { if(confirm('ç¢ºå®šåˆªé™¤?')) { prepData[c].items.splice(i, 1); localStorage.setItem('nz_prep_list', JSON.stringify(prepData)); renderChecklist(); } };
        window.checkEnter = (e, c) => { if(e.key === "Enter") addItem(c); };
        window.resetChecklist = () => { if(confirm('é‡ç½®?')) { localStorage.removeItem('nz_prep_list'); location.reload(); } };

        window.toggleShoppingCheck = (c, i) => { shoppingData[c].items[i].done = !shoppingData[c].items[i].done; localStorage.setItem('nz_shopping_list_v8', JSON.stringify(shoppingData)); renderShoppingList(); };
        window.addShoppingItem = (c) => { const input = document.getElementById(`new-shop-item-${c}`); if(input.value.trim()){ shoppingData[c].items.push({text: input.value.trim(), done: false}); localStorage.setItem('nz_shopping_list_v8', JSON.stringify(shoppingData)); renderShoppingList(); } };
        window.deleteShoppingItem = (c, i) => { if(confirm('ç¢ºå®šåˆªé™¤?')) { shoppingData[c].items.splice(i, 1); localStorage.setItem('nz_shopping_list_v8', JSON.stringify(shoppingData)); renderShoppingList(); } };
        window.checkShoppingEnter = (e, c) => { if(e.key === "Enter") addShoppingItem(c); };
        window.resetShoppingList = () => { if(confirm('é‡ç½®å¿…è²·æ¸…å–®?')) { localStorage.removeItem('nz_shopping_list_v8'); location.reload(); } };

        window.addNewSpot = (dayId) => { itineraryData[dayId].items.push({time: "00:00", title: "æ–°æ™¯é»", desc: "...", isHighlight: false}); saveItinerary(); renderAllDays(); setTimeout(() => editItem(dayId, itineraryData[dayId].items.length - 1), 100); };
        window.deleteItineraryItem = (dayId, idx) => { if(confirm('åˆªé™¤è¡Œç¨‹?')) { itineraryData[dayId].items.splice(idx, 1); saveItinerary(); renderAllDays(); } };
        
        window.editItem = (dayId, idx) => {
            const item = itineraryData[dayId].items[idx];
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 w-full max-w-md shadow-2xl edit-form max-h-[90vh] overflow-y-auto">
                    <h3 class="text-xl font-bold text-[#4A5559] mb-4">ç·¨è¼¯è¡Œç¨‹</h3>
                    <label>æ™‚é–“</label><input type="text" id="edit-time" value="${item.time || ''}">
                    <label>æ¨™é¡Œ</label><input type="text" id="edit-title" value="${item.title || ''}">
                    <label>ç°¡ä»‹</label><textarea id="edit-desc" rows="3">${item.desc || ''}</textarea>
                    <label>åœç•™æ™‚é–“</label><input type="text" id="edit-duration" value="${item.duration || ''}">
                    <label>è²»ç”¨</label><input type="text" id="edit-cost" value="${item.cost || ''}">
                    <label>å‚™è¨»</label><input type="text" id="edit-note" value="${item.note || ''}">
                    <label>é€£çµ</label><input type="text" id="edit-link" value="${item.link || ''}">
                    <div class="flex items-center gap-2 mb-6 mt-4"><input type="checkbox" id="edit-highlight" class="w-5 h-5 accent-[#4A5559]" ${item.isHighlight ? 'checked' : ''}><label for="edit-highlight" class="mb-0 text-base">é‡é»æ´»å‹•</label></div>
                    <div class="flex gap-3"><button onclick="this.closest('.fixed').remove()" class="flex-1 py-2 border rounded">å–æ¶ˆ</button><button onclick="saveEdit('${dayId}', ${idx})" class="flex-1 py-2 bg-[#7B9AA6] text-white rounded font-bold">å„²å­˜</button></div>
                </div>`;
            document.body.appendChild(modal);
        };

        window.saveEdit = (dayId, idx) => {
            itineraryData[dayId].items[idx] = {
                time: document.getElementById('edit-time').value,
                title: document.getElementById('edit-title').value,
                desc: document.getElementById('edit-desc').value,
                duration: document.getElementById('edit-duration').value,
                cost: document.getElementById('edit-cost').value,
                note: document.getElementById('edit-note').value,
                link: document.getElementById('edit-link').value,
                isHighlight: document.getElementById('edit-highlight').checked,
                type: itineraryData[dayId].items[idx].type
            };
            saveItinerary(); renderAllDays(); document.querySelector('.fixed.inset-0').remove();
        };

        const dayIds = ['prep', 'shopping', 'hotel', 'day1', 'day2', 'day3', 'day4', 'day5', 'day6', 'day7', 'day8', 'day9', 'day10', 'day11', 'day12', 'day13', 'day14', 'day15', 'day16', 'day17', 'day18', 'day19', 'final'];
        let currentDayIndex = 0;

        window.switchTab = (dayId) => {
            currentDayIndex = dayIds.indexOf(dayId);
            document.querySelectorAll('.day-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.day-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(dayId).classList.add('active');
            const btn = document.getElementById('btn-' + dayId);
            if (btn) { btn.classList.add('active'); btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' }); }
            document.getElementById('mobile-day-select').value = dayId;
            window.scrollTo({top: 0, behavior: 'smooth'});
        };

        window.prevDay = () => { if (currentDayIndex > 0) switchTab(dayIds[currentDayIndex - 1]); };
        window.nextDay = () => { if (currentDayIndex < dayIds.length - 1) switchTab(dayIds[currentDayIndex + 1]); };

        document.addEventListener('DOMContentLoaded', () => {
            initChecklist();
            initShoppingList();
            renderHotels();
            initItinerary();
            let touchstartX = 0;
            const contentArea = document.getElementById('content-area');
            contentArea.addEventListener('touchstart', e => touchstartX = e.changedTouches[0].screenX, false);
            contentArea.addEventListener('touchend', e => { if (e.changedTouches[0].screenX < touchstartX - 50) nextDay(); if (e.changedTouches[0].screenX > touchstartX + 50) prevDay(); }, false);
        });
    </script>
</body>
</html>
